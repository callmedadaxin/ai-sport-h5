import{_ as y,o as g,m as S,c as b,a as e,l as p,w as C,v as B,h as _,s as D,p as x,k as E,e as l,f as A,g as f}from"./index-COHSjGpk.js";import{S as N}from"./SharePanel-ekUni42d.js";const P={class:"page-wrap work-detail"},R={class:"nav"},U=["src","poster"],V={class:"play-btn"},W={class:"work-title"},$={class:"work-time"},I={__name:"WorkDetail",setup(M){const n=E(),k=A(),s=l(null),o=l(!1),a=l(null),r=l(!1);g(()=>{S.detail(n.params.id).then(i=>{a.value=i}).catch(()=>{a.value={}})});function h(){s.value&&(o.value?s.value.pause():s.value.play(),o.value=!o.value)}function m(){r.value=!0}return(i,t)=>{var c,u,v,d;return f(),b("div",P,[e("header",R,[e("button",{class:"close",onClick:t[0]||(t[0]=w=>p(k).back())},"×")]),e("div",{class:"video-wrap",onClick:h},[e("video",{ref_key:"videoEl",ref:s,src:(c=a.value)==null?void 0:c.videoUrl,poster:(u=a.value)==null?void 0:u.coverUrl,class:"video",loop:"",playsinline:""},null,8,U),C(e("div",V,"▶",512),[[B,!o.value]])]),e("p",W,_((v=a.value)==null?void 0:v.title),1),e("p",$,"作品完成时间: "+_((d=a.value)==null?void 0:d.completedAt),1),e("button",{class:"share-btn",onClick:m},"生成分享海报"),r.value?(f(),D(N,{key:0,"work-id":p(n).params.id,detail:a.value,onClose:t[1]||(t[1]=w=>r.value=!1)},null,8,["work-id","detail"])):x("",!0)])}}},z=y(I,[["__scopeId","data-v-7af083e4"]]);export{z as default};
